/*! For license information please see element-nft-grid.bundle.js.LICENSE.txt */
(()=>{"use strict";var e={408:(e,t)=>{Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler");var r=Symbol.for("react.provider"),n=Symbol.for("react.context"),a=(Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator,{isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}}),o=Object.assign,s={};function i(e,t,r){this.props=e,this.context=t,this.refs=s,this.updater=r||a}function l(){}function c(e,t,r){this.props=e,this.context=t,this.refs=s,this.updater=r||a}i.prototype.isReactComponent={},i.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},l.prototype=i.prototype;var d=c.prototype=new l;d.constructor=c,o(d,i.prototype),d.isPureReactComponent=!0;Array.isArray,Object.prototype.hasOwnProperty;t.createContext=function(e){return(e={$$typeof:n,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:r,_context:e},e.Consumer=e}},294:(e,t,r)=>{e.exports=r(408)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}(()=>{(0,r(294).createContext)();local.backendMediaUrl;const e=(local.frontendMediaUrl,local.backend_ajax_url,local.profile,local.profile_edit,local.site_root,local.site_title,local.settings||{fixedListingPriceForCustomCoin:0,general:{loadmore:"infinite"},nftpages:{all:{cols:3,width:1e3,perpage:12,search:!0,filter:!0,filterToggle:!0},single:{likebtn:!0,sharebtn:!0,infotabs:!0,width:1e3},create:{splitPayment:!0,royalty:!0,unlockable:!0,properties:!0,freeminting:!0,width:900,uploadsize:2,category:!0,collection:!0,labels:!0,stats:!0}},collections:{all:{cols:5,width:1e3,perpage:12,view:"grid"},create:{width:991,thumb:!1},single:{cols:5,width:1e3,perpage:12,desc:!0,creator:!0,links:!0,search:!0,filter:!0,filterToggle:!0}},categories:{all:{cols:5,width:1e3,perpage:12},create:{width:991},single:{cols:5,width:1e3,perpage:12,desc:!0,search:!0,filter:!0,filterToggle:!0}},profile:{single:{width:1e3,address:!0,desc:!0,links:!0,filterToggle:!0},edit:{width:990},nfts:{cols:4,perpage:12,filter:!0,search:!0},collections:{cols:5,perpage:12}}}),t=local.translation||{},n=(local.addons,local.settings?.infuraProjectId?local.settings?.infuraProjectId:null),a=local.settings?.infuraIpfsSecret?local.settings?.infuraIpfsSecret:null,{__:o}=(btoa(`${n}:${a}`),e.nftpages?.all?.perpage&&parseInt(e.nftpages?.all?.perpage),local.custom_networks.map((e=>({...e,chainId:parseInt(e.chainId)}))),wp.i18n),s=e=>{let r=null,n=null,a=null,o=null;const s=async e=>{if(n.category!=e&&e)try{o.startLoader();const t=await n.fetchNfts(e);o.renderNfts(t)}catch(e){console.log(e)}};r=JSON.parse(e),a=new class{constructor(e,t){this.categories=e||[],this.rootEl=t}renderCategories(){const e=this.categories.map(((e,t)=>this.renderCategory(e,t))).join(" ");this.clearRootEl(),this.rootEl&&this.rootEl.insertAdjacentHTML("afterbegin",e)}renderCategory(e,t){return`<p class="nft-grid__category ${0==t?"active":""}">${e.replace("-"," ")}</p>`}clearRootEl(){this.rootEl.innerHTML=""}}(r.category_selector,document.querySelector(`.smartnft_nft_grid_categories_${r.unique_id}`)),o=new class{constructor(e,t){this.settings=e,this.rootEl=t,this.limit=e.limit||12}startLoader(){const e=[...Array(this.limit)].map((e=>'\n        <div class="all-nft-skeleton__col" >\n          <div class="all-nft-skeleton__inner">\n            <div class="all-nft-skeleton__image-con">\n              <span class="skeleton-box all-nft-skeleton__image"></span>\n            </div>\n            <div class="all-nft-skeleton__contents">\n              <span class="skeleton-box all-nft-skeleton__name"></span>\n              <span class="skeleton-box all-nft-skeleton__price-label"></span>\n              <span class="skeleton-box all-nft-skeleton__price"></span>\n            </div>\n          </div>\n        </div>')).join(" ");this.clearRootEl(),this.rootEl&&this.rootEl.insertAdjacentHTML("afterbegin",e)}renderNfts(e){if(console.log(e),!e.length)return this.clearRootEl(),void this.rootEl.insertAdjacentHTML("afterbegin",this.notFound());const t=e.map((e=>this.renderNft(e))).join(" ");this.clearRootEl(),this.rootEl.insertAdjacentHTML("afterbegin",t),this.addMouseHoverVideoPlayListener()}addMouseHoverVideoPlayListener(){this.rootEl.querySelectorAll(".video-preview video").forEach((e=>{e.addEventListener("mouseenter",(e=>e.target.play())),e.addEventListener("mouseleave",(e=>e.target.pause()))}))}notFound(){return`\n      <div class="nonft-found">\n        <h3> ${t?.not_for_sale}</h3>\n      </div>`}videoMarkup(e){return`\n          <div class="video-preview">\n            <video\n              class="card__img"\n              src=${e?.mediaUrl}\n              alt=${e?.meta?.name}\n            />\n            <span class="video-icon">\n              <svg\n                xmlns="http://www.w3.org/2000/svg"\n                width="16"\n                height="16"\n                fill="currentColor"\n                class="bi bi-play-fill"\n                viewBox="0 0 16 16"\n              >\n                <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z" />\n              </svg>\n            </span>\n          </div>`}audioMarkup(e){const t=e?.thumbnailMediaUrl?.attach_url;return`\n        <div class="audio-preview">\n          <span class="form-preview-icon">\n            <svg\n              xmlns="http://www.w3.org/2000/svg"\n              width="16"\n              height="16"\n              fill="currentColor"\n              class="bi bi-music-note"\n              viewBox="0 0 16 16"\n            >\n              <path d="M9 13c0 1.105-1.12 2-2.5 2S4 14.105 4 13s1.12-2 2.5-2 2.5.895 2.5 2z" />\n              <path fillRule="evenodd" d="M9 3v10H8V3h1z" />\n              <path d="M8 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 13 2.22V4L8 5V2.82z" />\n            </svg>\n          </span>\n          ${t&&`<img src=${t} />`}\n        </div>`}imgMarkup(e){return`<img class="card__img" src=${e?.thumbnailMediaUrl?.attach_url} alt=${e.meta?.name} />`}userNameMarkup(e){return e.creator_name?`<p class=" meta-font card__creator">\n\t\t\t\t${e.creator_name}\n\t  \t\t ${e?.is_creator_verified?`<img src="${nft_grid_local?.frontendMediaUrl}verified.svg" />`:""}\n\t\t\t  </p>`:`\n      <p class="meta-font card__creator">\n        ${e.creator?.substring(0,7)}....\n        ${e.creator?.substring(e.creator.length-4)}\n\t  \t\t ${e?.is_creator_verified?`<img src="${nft_grid_local?.frontendMediaUrl}verified.svg" />`:""}\n      </p>`}listedMarkup(e){return"true"==e.isListed?`\n      <p class="header-three card__price">\n            ${e.price} ${e?.selectedContract?.network.currencySymbol}\n      </p>`:`\n        <p class="header-three card__price">\n          ${t?.not_for_sale}\n        </p>`}nftNameMarkup(e){return`\n        <p class="header-three card__name">\n          ${e?.meta?.name}\n        </p>`}renderNft(e){return`\n    <div class="card">\n      <figure>\n        <a href=${e.permalink}>\n\t\t  ${e.fileType.startsWith("video")?this.videoMarkup(e):""}\n          ${e.fileType.startsWith("audio")?this.audioMarkup(e):""}\n          ${e.fileType.startsWith("image")?this.imgMarkup(e):""}\n        </a>\n      </figure>\n      <a href=${e.permalink}>\n        <div class="card__info">\n          ${this.userNameMarkup(e)}\n          ${this.nftNameMarkup(e)}\n          <span class="meta-font">${t?.price}</span>\n          ${this.listedMarkup(e)}\n        </div>\n      </a>\n    </div>\n    `}clearRootEl(){this.rootEl.innerHTML=""}}(r,document.querySelector(`.smartnft_nft_grid_nfts_${r.unique_id}`)),n=new class{constructor(e){this.settings=e,this.category=null,this.collection=e?.collection_selector||null,this.nfts=[],this.limit=e.limit,console.log(e)}async fetchNfts(e){if(this.category===e||!e)return this.nfts;try{const t=await jQuery.ajax({type:"post",url:nft_grid_local.BACKEND_AJAX_URL,data:{limit:this.limit||12,cat_slug:e,coll_slugs:this.collection,action:"smartnft_get_nft_by_category"}});return this.category=e,this.nfts=t.data.nfts,this.nfts}catch(e){console.log(e)}}}(r),"yes"===r.isTabOn&&(a.renderCategories(),(()=>{const e=document.querySelectorAll(`.smartnft_nft_grid_categories_${r.unique_id} .nft-grid__category`);e.forEach(((t,r)=>t.addEventListener("click",(t=>{e.forEach((e=>{if(e==t.target)return e.classList.add("active");e.classList.remove("active")})),s(a.categories[r])}))))})());const i=r.category_selector[0];s(i)};window.SMARTNFT_NFT_GRID_RERUN_APP=()=>{"undefined"!=typeof smartnftNftGridElementSettings&&smartnftNftGridElementSettings.forEach((e=>{let t=0;requestAnimationFrame((function r(n){if(t<=n&&(t=n+300,void 0!==e)){const t=JSON.parse(e);if(document.querySelector(`.smartnft_nft_grid_categories_${t.unique_id}`))return void s(e)}requestAnimationFrame(r)}))}))},window.SMARTNFT_NFT_GRID_RERUN_APP()})()})();